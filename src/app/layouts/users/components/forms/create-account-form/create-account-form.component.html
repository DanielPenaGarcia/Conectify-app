<form [formGroup]="accountForm" (submit)="submit()">
  <app-image-viewer #imageViewer></app-image-viewer>
  <div class="form-content">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        formControlName="username"
        class="form-control"
        id="username"
        placeholder="Enter your username"
      />
      <div
        class="form-errors"
        *ngIf="
          accountForm.controls['username'].invalid &&
          (accountForm.controls['username'].dirty ||
            accountForm.controls['username'].touched)
        "
      >
        <div *ngIf="accountForm.controls['username'].errors['required']">
          Username is required
        </div>
        <div *ngIf="accountForm.controls['username'].errors['minlength']">
          Username must have at least 3 characters
        </div>
        <div *ngIf="accountForm.controls['username'].errors['maxlength']">
          Username must have at most 50 characters
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password"
        >Password <span class="optional">(Opcional)</span></label
      >
      <input
        type="password"
        formControlName="password"
        class="form-control"
        id="password"
        placeholder="Enter your password"
      />
      <div
        class="form-errors"
        *ngIf="
          accountForm.controls['password'].invalid &&
          (accountForm.controls['password'].dirty ||
            accountForm.controls['password'].touched)
        "
      >
        <div *ngIf="accountForm.controls['password'].errors['minlength']">
          Password must have at least 6 characters
        </div>
        <div *ngIf="accountForm.controls['password'].errors['maxlength']">
          Password must have at most 50 characters
        </div>
      </div>
    </div>
    <!-- Ask password checkbox -->
    <div class="form-group">
      <div class="form-check">
        <input
          type="checkbox"
          formControlName="askPassword"
          class="form-check-input"
          id="askPassword"
        />
        <label class="form-check-label" for="askPassword">Ask password</label>
      </div>
    </div>
    <!-- ProfilePicture -->
    <div class="form-group">
      <app-select-file
        [label]="'Imagen de Perfil' "
        [accept]="'image/*'"
        [controls]="profilePicture"
        (fileChange)="onFileChange($event)"
        icon="bi bi-image-fill"
      ></app-select-file>
      <!-- errors -->
      <div class="form-errors" *ngIf="profilePicture.invalid && (profilePicture.dirty || profilePicture.touched)">
        <div *ngIf="profilePicture.errors['required']">
          La imagen de perfil es obligatoria
        </div>
        <!-- <div *ngIf="profilePicture.errors['fileSize']">
          La imagen de perfil debe pesar menos de 2MB
        </div>
        <div *ngIf="profilePicture.errors['fileType']">
          La imagen de perfil debe ser un archivo de tipo imagen
        </div> -->
      </div>
    </div>
  </div>
  <button class="block" type="submit">
    <span>Crear Cuenta</span>
  </button>
</form>
